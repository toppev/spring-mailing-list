<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Mailing List</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<a href="/list">All Lists</a>

<h1>Mailing List</h1>
<h3>Id:
    <text th:text="${item.id}"/>
</h3>
<h3>Name:
    <text th:text="${item.name}"/>
</h3>

<form action="#" th:action="@{/delete/{listId}(listId = ${item.id})}" method="post">
    <p><input type="submit" onclick="return confirm('Are you sure you want to delete this item?');"
              value="Delete this list"/></p>
</form>
<form action="#" th:action="@{/export/{listId}(listId = ${item.id})}" method="get">
    <p><input type="submit" value="Export"/></p>
</form>

<h3>Subscriptions:
    <text th:text="${item.subscription.size()}"/>
</h3>
<table th:object="${item.subscription}" id="userTable" border="2">
    <tr th:each="sub :${item.subscription}">
        <td th:text="${sub.email}">Email</td>
        <td th:text="${sub.date}">Date</td>
    </tr>
</table>

</body>
</html>